<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <style>
        * {

            max-width: 99.9%;
        }

        body {

            margin: 0;
            padding: 0;


            max-width: 100%;
        }

        #big-div {
            width: 100%;
            height: 150px;
            background-color: rgb(59, 80, 99);
            border: 2px solid black;
            color: white;
            font-size: 50px;
            justify-content: center;
            align-items: center;
            text-align: center;

        }
    </style>

</head>

<body>



    <div id="big-div">

        Click to show table / Double click to hide table

    </div>


    <div id="table-div">



    </div>


    <script src="jsonObject.json.txt"></script>

    <script>
        let bigDiv = document.getElementById("big-div");

        let container = document.getElementById("table-div");

        let visible = false;

        bigDiv.addEventListener("click", () => {

            if (visible)
                return;

            // string → object
            let data = JSON.parse(jsonObject).users;

            let table = "<table border='1' style=\"width:100%;\">";


            table += "<tr>";
            for (let key in data[0]) {

                if (key == "firstName" || key == "phone" || key == "email")
                    table += `<th>${key}</th>`;


            }
            table += "</tr>";


            data.forEach(item => {

                table += "<tr>";

                for (let key in item) {

                    if (key == "firstName" || key == "phone" || key == "email") {

                        // if value is an object → convert it to string
                        if (typeof item[key] === "object") {

                            table += `<td>${JSON.stringify(item[key])}</td>`;

                        } else {

                            table += `<td>${item[key]}</td>`;

                        }
                    }


                }

                table += "</tr>";

            });

            table += "</table>";

            container.innerHTML = table;

            visible = true;
        });

        bigDiv.addEventListener("dblclick", () => {

            container.innerHTML = "";

            visible = false;

        });



    </script>

</body>

</html>